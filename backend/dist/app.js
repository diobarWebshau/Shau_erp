"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const location_production_line_router_1 = require("./modules/features/location/assigments/location-production-line/infrastructure/http/location-production-line.router");
const location_location_type_router_1 = require("./modules/features/location/assigments/location-location-type/infrastructure/http/location-location-type.router");
const client_router_1 = require("./modules/features/client/assigments/client-addresses/infrastructure/http/client.router");
const production_line_router_1 = require("./modules/core/production-line/infrastructure/http/production-line.router");
const location_type_router_1 = require("./modules/core/location-type/infrastructure/http/location-type.router");
const input_type_router_1 = require("./modules/core/input-type/infrastructure/http/input-type.router");
const location_router_1 = require("./modules/core/location/infrastructure/http/location.router");
const product_router_1 = require("./modules/core/product/infrastructure/http/product.router");
const input_router_1 = require("./modules/core/input/infrastructure/http/input.router");
const client_router_2 = require("./modules/core/client/infrastructure/http/client.router");
const process_router_1 = require("./modules/core/process/infrastructure/http/process.router");
const error_middleware_1 = __importDefault(require("./middlewares/error/error.middleware"));
const express_1 = __importDefault(require("express"));
const cookie_parser_1 = __importDefault(require("cookie-parser"));
const compression_1 = __importDefault(require("compression"));
const node_path_1 = __importDefault(require("node:path"));
const createApp = () => {
    const app = (0, express_1.default)();
    app.use((0, cookie_parser_1.default)());
    app.use(express_1.default.json({ limit: "10mb" }));
    app.use(express_1.default.urlencoded({ extended: true, limit: "10mb" }));
    app.use("/uploads", express_1.default.static(node_path_1.default.resolve(__dirname, process.env.FILES_PATH)));
    app.use((0, compression_1.default)({ threshold: 1024 }));
    app.use("/location", (0, location_router_1.locationRouter)());
    app.use("/production-line", (0, production_line_router_1.productionLineRouter)());
    app.use("/location-production-line", (0, location_production_line_router_1.locationProductionLineRouter)());
    app.use("/location-location-type", (0, location_location_type_router_1.locationLocationTypeRouter)());
    app.use("/location-type", (0, location_type_router_1.LocationTypeRouter)());
    app.use("/input-type", (0, input_type_router_1.InputTypeRouter)());
    app.use("/client", (0, client_router_2.ClientRouter)());
    app.use("/process", (0, client_router_2.ClientRouter)());
    app.use("/client-address", (0, client_router_1.ClientAddressRouter)());
    app.use("/product", (0, product_router_1.ProductRouter)());
    app.use("/input", (0, input_router_1.InputRouter)());
    app.use("/process", (0, process_router_1.ProcessRouter)());
    app.use(error_middleware_1.default);
    return app;
};
exports.default = createApp;
